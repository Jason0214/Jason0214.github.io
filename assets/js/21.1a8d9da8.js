(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{457:function(e,t,a){"use strict";a.r(t);var s=a(43),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Instructions on setting up development environment on Beagle Bone, in case I forget it again.\n")]),e._v(" "),a("h3",{attrs:{id:"check-usb-connection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-usb-connection"}},[e._v("#")]),e._v(" Check USB connection")]),e._v(" "),a("p",[e._v("First, verify the USB connection")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ usb-devices\n")])])]),a("p",[e._v("If it's good, something similar to the following will show up")]),e._v(" "),a("div",{staticClass:"language-log extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("T:  Bus=01 Lev=01 Prnt=01 Port=01 Cnt=02 Dev#=  4 Spd=12  MxCh= 0\nD:  Ver= 1.10 Cls=ef(misc ) Sub=02 Prot=01 MxPS=64 #Cfgs=  1\nP:  Vendor=1d6b ProdID=0104 Rev=04.04\nS:  Manufacturer=Seeed\nS:  Product=BeagleBoneGreen\n")])])]),a("p",[e._v("Alternatively you can check the kernel log")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("dmesg")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" usb\n")])])]),a("p",[e._v("Example result:")]),e._v(" "),a("div",{staticClass:"language-log extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[  841.388142] usb 1-2: New USB device found, idVendor=1d6b, idProduct=0104\n[  841.388144] usb 1-2: New USB device strings: Mfr=3, Product=4, SerialNumber=5\n[  841.388146] usb 1-2: Product: BeagleBoneGreen\n[  841.388147] usb 1-2: Manufacturer: Seeed\n[  841.388148] usb 1-2: SerialNumber: BBG217071901\n")])])]),a("h3",{attrs:{id:"serial-port-over-usb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#serial-port-over-usb"}},[e._v("#")]),e._v(" Serial Port over USB")]),e._v(" "),a("p",[e._v("Find the "),a("code",[e._v("tty")]),e._v(" corresponding to Serial over USB by checking kernel log")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("dmesg")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("tty")]),e._v("\n")])])]),a("p",[e._v("e.g. found "),a("code",[e._v("ttyACM0")])]),e._v(" "),a("div",{staticClass:"language-log extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[    5.901768] cdc_acm 1-2:1.2: ttyACM0: USB ACM device\n")])])]),a("p",[e._v("Connect through Serial Port")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("screen")]),e._v(" /dev/ttyACM0 "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("115200")]),e._v("\n")])])]),a("p",[e._v("Frequently used Serial instructions:")]),e._v(" "),a("ul",[a("li",[e._v("Show help: "),a("code",[e._v("Control a + (no control) ?")])]),e._v(" "),a("li",[e._v("Exit: "),a("code",[e._v("Control a + (no control) \\")])])]),e._v(" "),a("h3",{attrs:{id:"ethernet-over-usb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ethernet-over-usb"}},[e._v("#")]),e._v(" Ethernet over USB")]),e._v(" "),a("p",[e._v("Execute "),a("code",[e._v("ifconfig")]),e._v(" on both Beagle Bone and your Host device to check the IPs and interfaces of Ethernet over USB.")]),e._v(" "),a("p",[e._v("Seems by default, Beagle Bone and Host are under the subnet "),a("code",[e._v("192.168.7.0/24")]),e._v(",\nwith Beagle Bone having IP address "),a("code",[e._v("192.168.7.2")]),e._v(" and Host having IP address "),a("code",[e._v("192.168.7.1")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"route-beagle-bone-network-traffic-on-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#route-beagle-bone-network-traffic-on-host"}},[e._v("#")]),e._v(" Route Beagle Bone network traffic on Host")]),e._v(" "),a("h4",{attrs:{id:"on-beagle-bone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on-beagle-bone"}},[e._v("#")]),e._v(" On Beagle Bone")]),e._v(" "),a("p",[e._v("Route all traffic to Host (IP "),a("code",[e._v("192.168.7.1")]),e._v(")")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ip")]),e._v(" route "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" default via "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".7.1\n")])])]),a("h4",{attrs:{id:"on-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on-host"}},[e._v("#")]),e._v(" On Host")]),e._v(" "),a("p",[e._v("Find "),a("code",[e._v("<Beagle Bone interface>")]),e._v(" and "),a("code",[e._v("<Host network interface>")]),e._v(" through "),a("code",[e._v("ifconfig")])]),e._v(" "),a("p",[e._v("Enable IP layer forward")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" sysctl -w net.ipv4.ip_forward"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n")])])]),a("p",[e._v("Add NAT rule")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" iptables -A FORWARD --in-interface "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Beagle Bone interface"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" -j ACCEPT\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" iptables -t nat -A POSTROUTING --out-interface "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Host network interface"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" -j MASQUERADE\n")])])]),a("h3",{attrs:{id:"dns-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-server"}},[e._v("#")]),e._v(" DNS server")]),e._v(" "),a("p",[e._v("Prepend DNS server address to "),a("code",[e._v("resolv.conf")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ sudo sed -i '1inameserver 8\\.8\\.8\\.8' /etc/resolv.conf\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);