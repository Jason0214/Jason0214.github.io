<!doctype html><html lang=en><head><meta charset=utf-8><meta content=no-referrer name=referrer><meta content="width=device-width,initial-scale=1.0,maximum-scale=5" name=viewport><title>Raspberry Pi as a Wifi Access Point | Jiacheng's Mini Blog</title><meta content="Raspberry Pi as a Wifi Access Point | Jiacheng's Mini Blog" property=og:title><meta content="Raspberry Pi as a Wifi Access Point | Jiacheng's Mini Blog" name=twitter:title><meta content="Make Raspberry Pi 4 an access point -- and further a transparent proxy." name=description><meta content="Make Raspberry Pi 4 an access point -- and further a transparent proxy." property=og:description><meta content="Make Raspberry Pi 4 an access point -- and further a transparent proxy." name=twitter:description><meta content="Jiacheng's Mini Blog" property=og:site_name><meta content=https://jason0214.github.io property=og:url><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://jason0214.github.io/base.css rel=stylesheet><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><link href=https://jason0214.github.io/fontawesome/fontawesome.css rel=stylesheet><link href=https://jason0214.github.io/fontawesome/brands.css rel=stylesheet><link href=https://jason0214.github.io/fontawesome/solid.css rel=stylesheet><link href=https://jason0214.github.io/favicon.ico rel=icon type=image/x-icon><body><a class="skip-link p-screen-reader-text" href=#main>Skip to content</a><header class=l-header><h1 class="c-title p-title"><a class=p-title__link href=https://jason0214.github.io>Jiacheng's Mini Blog</a></h1><p class=p-subtitle>Less tech, more life</header><main class=l-main id=main><article class=p-article><header><h1>Raspberry Pi as a Wifi Access Point</h1><div><div class=c-time><time datetime=" 2020-07-14"> 2020-07-14 </time> - (9 min read)</div></div></header><section class=p-article__body id=js-article><p>Make Raspberry Pi 4 an access point -- and further a transparent proxy.</p><span id=continue-reading></span><h2 id=setup-raspberry-pi-4-headlessly>Setup Raspberry Pi 4 headlessly<a aria-label="Anchor link for: setup-raspberry-pi-4-headlessly" class=zola-anchor href=#setup-raspberry-pi-4-headlessly><i class="fas fa-link"></i></a></h2><p>I bought a Raspberry Pi 4 recently. In the first experience, I am a little surprised that Pi can not be easily setup in a headless way. Probably Pi 4 is so powerful that can speak "just use it as a PC", which might be the reason that documentations just tell you to connect a display, a keyboard and a mouse to set it up.<p>Anyway, I found a relatively easy way to setup Pi it by searching online. The idea is to connect Pi to your wireless network in boot up. The post <a href=https://desertbot.io/blog/headless-raspberry-pi-4-ssh-wifi-setup>headless-raspberry-pi-4-ssh-wifi-setup</a> gives instructions to write Wifi config to the OS image, then put the image on a SD-card and boot Pi from it. Once boot up, hopefully Pi is automatically connected to Wifi and you can access it using <code>ssh</code>.<h2 id=requirements>Requirements<a aria-label="Anchor link for: requirements" class=zola-anchor href=#requirements><i class="fas fa-link"></i></a></h2><p>Ensure the WLAN support "AP" mode by checking<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> iw list
</span></code></pre><p>Raspberry Pi 4 has it supported.<p>Install the following applications before you start, as you may lose internet connection in configuring your WLAN.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>sudo</span><span> apt instal hostapd </span><span style=color:#65737e># For access point
</span><span style=color:#bf616a>sudo</span><span> apt instal dnsmasq </span><span style=color:#65737e># For DHCP and DNS service
</span></code></pre><h2 id=choose-a-wlan-interface>Choose a WLAN interface<a aria-label="Anchor link for: choose-a-wlan-interface" class=zola-anchor href=#choose-a-wlan-interface><i class="fas fa-link"></i></a></h2><p>To be an access point, Pi needs a wireless LAN interface to be connected to by clients, while itself also needs access to the network.<ol><li>You can connect Pi to ethernet (Pi 4 has an ethernet port) and use Pi's builtin WLAN to be the access point.<li>You can connect Pi to wifi with the builtin WLAN and install another WLAN interface (e.g. a wifi dongle) to be the access point.<li>You can use one physical WLAN to both connect to a wifi as a client and act as the access point simultaneously. Check out <a href=https://superuser.com/questions/155795/can-a-linux-machine-act-as-both-a-wireless-client-and-access-point-simultaneousl>VAPs</a>, <a href=https://blog.thewalr.us/2017/09/26/raspberry-pi-zero-w-simultaneous-ap-and-managed-mode-wifi/>Simultaneously AP and managed Wifi</a>, and <a href=https://github.com/lukicdarkoo/rpi-wifi>rpi-wifi</a>, though it has some limitations and seems a bit more complicated to setup than other alternatives.</ol><p>I tried the second approach with a TL-WN726N external wireless card, but I can not find a Linux driver for it, so I failed to get it working (see [Appendix](## Appendix: Install driver for a wifi dongle (TL-WN726N))). Then I end up using the builtin WLAN on Pi as the access point.<h2 id=network-mode>Network mode<a aria-label="Anchor link for: network-mode" class=zola-anchor href=#network-mode><i class="fas fa-link"></i></a></h2><p>Providing internet access in AP mode could be done using either <a href=https://www.raspberrypi.org/documentation/configuration/wireless/access-point-bridged.md>Bridge</a> or <a href=https://www.raspberrypi.org/documentation/configuration/wireless/access-point-routed.md>NAT</a>.<p>The following content is my step by step <strong>NAT</strong> setting up, I consider it a good complement to the official documentation linked above. I also extend my Pi to be a transparent proxy, which is pretty straight-forward once you get the AP working.<h2 id=release-wireless-interface-from-network-manager>Release wireless interface from network manager<a aria-label="Anchor link for: release-wireless-interface-from-network-manager" class=zola-anchor href=#release-wireless-interface-from-network-manager><i class="fas fa-link"></i></a></h2><p>To set up an access point on the builtin WLAN, WLAN needs to be released from being used as a wireless client. <code>wpa_supplicant</code> is the default network manager on raspberry Pi. It is the one being used to in the post I linked to booting up Pi with a wireless connection. Here releasing WLAN from <code>wpa_supplicant</code>, which configures the WLAN to be the wireless client, and let an access point service manage it.<p>Add the following two lines to <code>/etc/dhcpcd.conf</code>, <code>dhcpcd</code> is the default DHCP client on raspberry pi, the configuration change sets a static IP address to <code>wlan0</code> and releases it from the network manager.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>interface</span><span> wlan0
</span><span>    </span><span style=color:#bf616a>static</span><span> ip_address=192.168.4.1/24
</span><span>    </span><span style=color:#bf616a>nohook</span><span> wpa_supplicant </span><span style=color:#65737e># Release from ..
</span></code></pre><h2 id=run-hostapd>Run hostapd<a aria-label="Anchor link for: run-hostapd" class=zola-anchor href=#run-hostapd><i class="fas fa-link"></i></a></h2><p>Next step, enable access point service on the WLAN. <code>hostapd</code> is a daemon to run an access point service, which will be used to configure <code>wlan0</code>. After that your wireless network will be visible by client devices and <code>hostapd</code> will manage - the credentials - the protocols - the encryption - ...<p>Refer to <a href=https://wiki.archlinux.org/index.php/software_access_point>Arch Software Access Point</a> and <a href=https://wireless.wiki.kernel.org/en/users/documentation/hostapd>Linux Wireless Documentation</a> for configurations of <code>hostapd</code>. Check the documentations and you will find there aren't many you need to change. Configure the <code>interface</code>, <code>channel</code>, <code>ssid</code>, <code>wpa_passphrase</code>, <code>auth_algs</code>, <code>*_pairwise</code>, others can just be left as the defaults.<p>Make sure to check the most recent documents/posts to select the appropriate key exchange protocols through <code>*_pairwise</code> to have the right security level desired.<p>Here is one example:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>...
</span><span style=color:#65737e># Operation mode (a = IEEE 802.11a (5 GHz), b = IEEE 802.11b (2.4 GHz)
</span><span style=color:#bf616a>hw_mode</span><span>=</span><span style=color:#a3be8c>g
</span><span style=color:#65737e># Channel number
</span><span style=color:#bf616a>channel</span><span>=</span><span style=color:#a3be8c>7
</span><span style=color:#65737e># Maximum number of stations allowed
</span><span style=color:#bf616a>max_num_sta</span><span>=</span><span style=color:#a3be8c>4
</span><span>
</span><span style=color:#bf616a>macaddr_acl</span><span>=</span><span style=color:#a3be8c>0
</span><span style=color:#bf616a>ignore_broadcast_ssid</span><span>=</span><span style=color:#a3be8c>0
</span><span style=color:#65737e># Bit field: 1=wpa, 2=wep, 3=both
</span><span style=color:#bf616a>auth_algs</span><span>=</span><span style=color:#a3be8c>1
</span><span style=color:#65737e># Bit field: bit0 = WPA, bit1 = WPA2
</span><span style=color:#bf616a>wpa</span><span>=</span><span style=color:#a3be8c>2
</span><span style=color:#65737e># Set of accepted key management algorithms
</span><span style=color:#bf616a>wpa_key_mgmt</span><span>=</span><span style=color:#a3be8c>WPA-PSK
</span><span style=color:#65737e>#rsn_pairwise=CCMP
</span><span style=color:#bf616a>wpa_pairwise</span><span>=</span><span style=color:#a3be8c>CCMP
</span><span style=color:#bf616a>...
</span></code></pre><p>You may want to use the best quality <code>channel</code> in your local area, which needs some steps to find out, as it is affected by ther wireless devices/routers around you as wel as the law in your country. If you are using MacOS, you can scan the local network using <a href=https://www.chriswrites.com/boosting-your-wi-fi-time-to-change-the-channel/>Wireless Diagnostics</a> On Linux, try <a href=https://linux.die.net/man/8/iwlist>iwlist</a><h2 id=dhcp-service>DHCP service<a aria-label="Anchor link for: dhcp-service" class=zola-anchor href=#dhcp-service><i class="fas fa-link"></i></a></h2><p>Set up DHCP services for IP ditribution to clients. Here doing it use <code>dnsmasq</code>.<p>Add following lines to change <code>/etc/dnsmasq.conf</code><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>interface</span><span>=</span><span style=color:#a3be8c>wlan0 </span><span style=color:#65737e># Listening interface
</span><span style=color:#bf616a>dhcp-range</span><span>=</span><span style=color:#a3be8c>192.168.4.2,192.168.4.5,255.255.255.0,24h
</span><span>                </span><span style=color:#65737e># Pool of IP addresses served via DHCP
</span><span style=color:#bf616a>domain</span><span>=</span><span style=color:#a3be8c>wlan     </span><span style=color:#65737e># Local wireless DNS domain
</span><span style=color:#bf616a>address</span><span>=</span><span style=color:#a3be8c>/gw.wlan/192.168.4.1
</span><span>                </span><span style=color:#65737e># Alias for this router
</span></code></pre><p>Note that the config only allows 4 IPs to be allocated, change the config if having more client devices.<h2 id=enable-packet-routing>Enable packet routing<a aria-label="Anchor link for: enable-packet-routing" class=zola-anchor href=#enable-packet-routing><i class="fas fa-link"></i></a></h2><p>In order to get client devices access to internet, packet received at <code>wlan0</code> need to be forwarded to <code>eth0</code>.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#96b5b4>echo</span><span> 1 | </span><span style=color:#bf616a>sudo</span><span> tee /proc/sys/net/ipv4/ip_forward
</span></code></pre><p>For correctly routing (another word for IP forward), a masquerade rule is required to replace the <code>src</code>/<code>dst</code> address in packets' IP frame head to the IP address of Pi, in both sending and receiving packets from <code>eth0</code>.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>sudo</span><span> iptables</span><span style=color:#bf616a> -t</span><span> nat</span><span style=color:#bf616a> -A</span><span> POSTROUTING</span><span style=color:#bf616a> -o</span><span> eth0</span><span style=color:#bf616a> -j</span><span> MASQUERADE
</span></code></pre><h2 id=transparent-proxy>Transparent proxy<a aria-label="Anchor link for: transparent-proxy" class=zola-anchor href=#transparent-proxy><i class="fas fa-link"></i></a></h2><p>A transparent proxy is basically a proxy that runs inside the router, so that it is invisible (transparent) to the router client devices. Shadowsocks's <code>ss-redir</code> is a lightweight transparant proxy client that can be easily set up. <code>ss-redir</code> listens at a local port and sends the traffic received on th local port to the shadowsocks server (through <code>eth0</code>).<p>Create firewall rules to route traffic received from <code>wlan0</code> to the local port of <code>ss-redir</code>. Refer to <a href=https://github.com/shadowsocks/shadowsocks-libev#transparent-proxy>shadowsocks</a> for configurations.<h2 id=dns-service>DNS service<a aria-label="Anchor link for: dns-service" class=zola-anchor href=#dns-service><i class="fas fa-link"></i></a></h2><p>On Linux, DNS is provided in some fixed C library which parses <code>resolv.conf</code>. However the configuration file <code>resolv.conf</code> can be managed by a lot of applications. In our case, <code>dnsmasq</code> will be one of them and it is necessary for it to exclusively manage DNS resolving. Check <code>/etc/resolv.conf</code>, ensure <code>nameserver</code> is set to <code>127.0.0.1</code>, so that all the DNS query will be handled by <code>dnsmasq</code>.<p>Run <code>dig</code> on one of the client devices to verify that DNS is working properly.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>sudo</span><span> apt install dnsutils
</span><span style=color:#bf616a>dig</span><span> www.google.com
</span></code></pre><p>You might also want to set a DNS proxy using <code>ss-tunnel</code>, if so <code>dig</code> with custom host and port.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>dig</span><span> @127.0.0.1</span><span style=color:#bf616a> -p</span><span> 1086 www.google.com </span><span style=color:#65737e># Replace 1086 with your local `ss-tunnel` port.
</span></code></pre><p>If the DNS proxy is not working, the top common reasons might be<ol><li>UDP relay is not enabled on your shadowsocks server (missing the <code>-u</code> argument)<li>UDP traffic is blocked by your VPS provider, check the firewall rules of your VPS.</ol><h2 id=reference>Reference<a aria-label="Anchor link for: reference" class=zola-anchor href=#reference><i class="fas fa-link"></i></a></h2><ul><li><a href=https://wiki.archlinux.org/index.php/software_access_point>https://wiki.archlinux.org/index.php/software_access_point</a><li><a href=https://wireless.wiki.kernel.org/en/users/documentation/hostapd>https://wireless.wiki.kernel.org/en/users/documentation/hostapd</a><li><a href=https://thepi.io/how-to-use-your-raspberry-pi-as-a-wireless-access-point>https://thepi.io/how-to-use-your-raspberry-pi-as-a-wireless-access-point/</a><li><a href=https://unix.stackexchange.com/questions/14056/what-is-kernel-ip-forwarding>https://unix.stackexchange.com/questions/14056/what-is-kernel-ip-forwarding</a><li><a href=https://www.raspberrypi.org/documentation/configuration/wireless/access-point-routed.md>https://www.raspberrypi.org/documentation/configuration/wireless/access-point-routed.md</a><li><a href=https://www.raspberrypi.org/documentation/configuration/wireless/access-point-bridged.md>https://www.raspberrypi.org/documentation/configuration/wireless/access-point-bridged.md</a><li><a href=http://hbprotoss.github.io/post/da-jian-zhi-neng-fan-qiang-lu-you-qi/>http://hbprotoss.github.io/post/da-jian-zhi-neng-fan-qiang-lu-you-qi/</a><li><a href=https://unix.stackexchange.com/questions/494324/how-to-setup-dns-manually-on-linux>https://unix.stackexchange.com/questions/494324/how-to-setup-dns-manually-on-linux</a></ul><h2 id=appendix-install-driver-for-a-wifi-dongle-tl-wn726n>Appendix: Install driver for a wifi dongle (TL-WN726N)<a aria-label="Anchor link for: appendix-install-driver-for-a-wifi-dongle-tl-wn726n" class=zola-anchor href=#appendix-install-driver-for-a-wifi-dongle-tl-wn726n><i class="fas fa-link"></i></a></h2><p>I have tried to make the access point using a wifi dongle.<p>I got a wifi dongle from TP-Link, the TL-WN726N. However, I failed to get it to work on Raspberry Pi because there is no available linux driver for it.<p>I almost get the end of configuring the dongle, and the steps are listed below.<ol><li>Insert wifi dongle and show usb device information.</ol><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> lsusb
</span></code></pre><p>For example, the device from 'Realtek Semiconductor Corp' is my wifi dongle.<pre style=color:#c0c5ce;background-color:#2b303b><code><span>Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
</span><span>Bus 001 Device 003: ID 0bda:1a2b Realtek Semiconductor Corp.
</span><span>Bus 001 Device 002: ID 2109:3431 VIA Labs, Inc. Hub
</span><span>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</span></code></pre><ol start=2><li>Check kernel log</ol><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> dmesg
</span></code></pre><p>Dongle recoginized, though as a usb storage device (see below).<pre style=color:#c0c5ce;background-color:#2b303b><code><span>[159348.249956] usb 1-1.3: new high-speed USB device number 67 using xhci_hcd
</span><span>[159348.380395] usb 1-1.3: New USB device found, idVendor=0bda, idProduct=1a2b, bcdDevice= 2.00
</span><span>[159348.380410] usb 1-1.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0
</span><span>[159348.380423] usb 1-1.3: Product: DISK
</span><span>[159348.380435] usb 1-1.3: Manufacturer: Realtek
</span><span>[159348.384264] usb-storage 1-1.3:1.0: USB Mass Storage device detected
</span><span>[159348.384669] scsi host0: usb-storage 1-1.3:1.0
</span></code></pre><ol start=3><li>If the driver is onboard in the dongle, it may first get recognized as an usb storage device. In that case, you need to manually switch its usb mode with <a href=https://linux.die.net/man/1/usb_modeswitch>usb_modeswitch</a></ol><pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> sudo usb_modeswitch</span><span style=color:#bf616a> -KW -v</span><span> 0bda</span><span style=color:#bf616a> -p</span><span> 1a2b
</span></code></pre><p>Once done switching, check usb device information again.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> lsusb
</span></code></pre><p>Note that the product ID changes from <code>1a2b</code> to <code>b711</code>.<pre style=color:#c0c5ce;background-color:#2b303b><code><span>Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
</span><span>Bus 001 Device 066: ID 0bda:b711 Realtek Semiconductor Corp.
</span><span>Bus 001 Device 002: ID 2109:3431 VIA Labs, Inc. Hub
</span><span>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</span></code></pre><ol start=4><li>For dongle bought online, most likely it missing its Linux driver. Then you may try to find one on the internet. According to <a href=https://devicehunt.com/view/type/usb/vendor/0BDA/device/B711>https://devicehunt.com/view/type/usb/vendor/0BDA/device/B711</a>, the device <code>0bda:b711</code> is RTL8188GU 802.11n WLAN Adapter (After Modeswitch)</ol><p>I looked up for driver for <code>RTL8188GU</code> online, the closest one I found is <a href=https://github.com/lwfinger/rtl8188gu>lwfinger/rtl8188gu</a>. Though it has the name <code>rtl8188gu</code>, the author mentioned in the issues (and (I can also tell it from kernel log) that this merely a modification of <code>rtl8710bu</code> that he thinks might work on <code>rtl8188gu</code>.<p>Looking at the <a href=https://github.com/lwfinger/rtl8188gu/issues/2>issues</a>, several people tried this driver but all failed and reached the conclusion that there is no public available linux driver for <code>rtl8188gu</code> for now.<p>I tried to compile and install it anyway, to my Raspberry Pi, but it is not working as expected.<p>For driver compiling, kernel headers is necessary.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> sudo apt install raspberrypi-kernel-headers
</span><span style=color:#bf616a>$</span><span> git clone https://github.com/lwfinger/rtl8188gu && </span><span style=color:#96b5b4>cd</span><span> rtl8188gu && </span><span style=color:#bf616a>ARCH</span><span>=</span><span style=color:#a3be8c>arm </span><span style=color:#bf616a>make</span><span> all && </span><span style=color:#bf616a>sudo</span><span> make install && </span><span style=color:#96b5b4>cd</span><span> -
</span></code></pre><p>The compilation is good and the driver recognizes my device as a WLAN, but it fails on verifying some checksums.<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>$</span><span> dmesg
</span><span>
</span><span style=color:#bf616a>...
</span><span style=color:#bf616a>[137684.292802]</span><span> RTW: Clear the 0x40000138</span><span style=color:#b48ead>[</span><span>5</span><span style=color:#b48ead>]</span><span> to prevent CM4 Suspend! 0x40000138 = 0x0
</span><span style=color:#bf616a>[137684.293161]</span><span> RTW: rtl8710b_FirmwareDownload fw: FW_NIC, size: 23750
</span><span style=color:#bf616a>[137684.293167]</span><span> RTW: rtl8710b_FirmwareDownload: fw_ver=10 fw_subver=0000 sig=0x10b1, Month=09, Date=15, Hour=14, Minute=50
</span><span style=color:#bf616a>[137684.293210]</span><span> RTW: rtl8710b_FirmwareDownload by IO write!
</span><span style=color:#bf616a>[137684.563646]</span><span> RTW: polling_fwdl_chksum: Checksum report OK! (1, 0ms)</span><span style=color:#bf616a>,</span><span> REG_MCUFWDL:0x01050105
</span><span style=color:#bf616a>[137684.563651]</span><span> RTW: rtl8710b_FirmwareDownload: download FW count:1
</span><span style=color:#bf616a>[137684.760545] </span><span>***** value_to_check 0x82, value_expected 0xc6
</span><span style=color:#bf616a>[137684.760552]</span><span> RTW: _FWFreeToGo: Polling FW ready Fail! (4319, 200ms)</span><span style=color:#bf616a>,</span><span> REG_MCUFWDL:0x01050182
</span><span style=color:#bf616a>[137684.760639]</span><span> RTW: DUMP REG 0x90=0x1000101
</span><span style=color:#bf616a>[137684.760643]</span><span> RTW: ERROR Dump FW page 0x1000 </span><span style=color:#bf616a>~</span><span> 0x10FF :0
</span></code></pre><p>I stuck here.<h2 id=ap-and-client-mode-simultaneously>AP and Client mode simultaneously<a aria-label="Anchor link for: ap-and-client-mode-simultaneously" class=zola-anchor href=#ap-and-client-mode-simultaneously><i class="fas fa-link"></i></a></h2><p>TODO: <a href=https://blog.thewalr.us/2017/09/26/raspberry-pi-zero-w-simultaneous-ap-and-managed-mode-wifi/>https://blog.thewalr.us/2017/09/26/raspberry-pi-zero-w-simultaneous-ap-and-managed-mode-wifi/</a></section><footer><nav class="c-pagination p-pagination"><div class=c-pagination__ctrl><div class=c-pagination__newer></div><div class=c-pagination__older></div></div></nav></footer></article></main><footer class=l-footer><p class=p-copyright></footer>